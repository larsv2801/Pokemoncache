<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>Pokemoncache</title>
        <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no" />
        <link rel="manifest" href="manifest.json?v=1.0.3">
        <script type="text/javascript" src="//unpkg.com/maplibre-gl@5.0.1/dist/maplibre-gl.js"></script>
        <link href="//unpkg.com/maplibre-gl@5.0.1/dist/maplibre-gl.css" rel="stylesheet" />
        <style type="text/css">
            body {
              margin: 0;
              padding: 0;
            }

            #map {
              position: absolute;
              top: 0;
              bottom: 0;
              width: 100%;
              height:100%;
              background: hsl(0, 0%, 2%);
            }

            #button{
                display: block;
                position: absolute;
                top: 7px;
                right: 7px;
                width: 7dvw;
                height: 7dvw;
                border: none;
                border-radius: 3px;
                font-size: 18px;
                text-align: center;
                color: #fff;
                background: burlywood;
            }
            body{
            margin:0;
            padding:0;
        }
        #map {
            height:100dvh;
            display:flex;
            z-index:8;
            transition:0.3s;
        }

        #centreer{
            /*width:4.6vh;
            height: 4.6vh;*/
            width: 30px;
            height: 29px;
            line-height: 26px;
            border-radius: 4px;
            outline:none;
            background:linear-gradient(135deg,rgba(255,255,255,0.2),rgba(255,255,255,0.3));
            backdrop-filter: blur(4px);
            /*background-color: burlywood;*/
            border:2px solid #16161652;
            display:flex;
            z-index:9;
            align-items:center;
            justify-content:center;
            position:absolute;
            left:10px;
            top: 10px;
            user-select: none;
        }

        #centreer:focus{
            transition:0.3s;
            background-color: burlywood;
        }

        #centreer svg{
            position:absolute;
            left:50%;
            transform: translate(-50%,-4%);
            user-select: none;
            font-weight:700;
            width:18px;
            fill:black;
        }

        #unlock{
            width:100dvw;
            height:100dvh;
            background:linear-gradient(135deg,rgba(78, 78, 78, 0.5),rgba(58, 58, 58, 0.7));
            backdrop-filter: blur(4px); 
            display:flex;
            z-index:9999999;
            position:absolute;
            left:50%;
            top:50%;
            transform: translate(-50%,-50%);
            display:flex;
            opacity: 0;
            visibility: hidden;
            transition:0.2s;
        }

        #pokemon{
            width:50dvw;
            height:50dvw;
            position:absolute;
            left:50%;
            top:50%;
            transform: translate(-50%,-50%);
            user-select: none;
        }

        #pokeball {
            width:40dvw;
            height:40dvw;
            position:absolute;
            background: url(pokeball.png);
            background-size: cover;
            left:50%;
            top:49%;
            transform: translate(-50%,-50%);
            user-select: none;
            display:none;
        }

        #kruis {
            width:50dvw;
            height:50dvw;
            position:absolute;
            background: url(kruis.png);
            background-size: cover;
            left:50%;
            top:50%;
            transform: translate(-50%,-50%);
            user-select: none;
            display:none;
        }

        #sluit{
           width:2vw;
            height: 2vw;
            border-radius: 3px;
            outline:none;
            background:linear-gradient(135deg,rgba(255,255,255,0.5),rgba(255,255,255,0.7)) !important;
            backdrop-filter: blur(4px) !important; 
            border:2px solid #c8c8c6b7;
            display:flex;
            z-index:9;
            align-items:center;
            justify-content:center;
            position:absolute;
            right:3vw;
            top:3vw;
            font-size:calc(1.2vw + 15px);
            min-width:30px;
            min-height:30px; 
            user-select: none;
            transition:0.3s;
        }

        #nav{
            display:flex;
            z-index:96;
            position:relative;
            gap:5vw;
            justify-content: center;
            align-items: center;
            position:fixed;
            bottom: 3vh;
            left:50%;
            transform: translate(-50%,-50%);
            width:37dvw;
            height:10vw;
            border-radius:50px;
            background:linear-gradient(135deg,rgba(255,255,255,0.2),rgba(255,255,255,0.3));
            backdrop-filter: blur(4px);
            border:1px gray solid;
        }
        #nav #homesvg{
            fill:burlywood;
            transition:0.3s;
        }
        #nav svg{
            width:8vw;
            height:8vw;
            fill:rgb(33, 33, 33);
            transition:0.3s;
        }

        .leaflet-control{
           background:linear-gradient(135deg,rgba(255,255,255,0.2),rgba(255,255,255,0.3));
            backdrop-filter: blur(4px); 
            user-select: none;
        }
        .leaflet-bar{
           background:linear-gradient(135deg,rgba(255,255,255,0.0),rgba(255,255,255,0.0));
            backdrop-filter: blur(4px); 
            user-select: none;
        }

        .leaflet-bar a:active{
           background:linear-gradient(135deg,rgba(255,255,255,0.0),rgba(255,255,255,0.0));
            backdrop-filter: blur(4px); 
            user-select: none;
        }

        .leaflet-bar a:focus{
           background:linear-gradient(135deg,rgba(255,255,255,0.0),rgba(255,255,255,0.0));
            backdrop-filter: blur(4px); 
            user-select: none;
        }

        .leaflet-bar a:hover{
           background:linear-gradient(135deg,rgba(255,255,255,0.0),rgba(255,255,255,0.0));
            backdrop-filter: blur(4px); 
            user-select: none;
        }

        .leaflet-bar:focus{
           background:linear-gradient(135deg,rgba(255,255,255,0.0),rgba(255,255,255,0.0));
            backdrop-filter: blur(4px); 
            user-select: none;
        }

        .leaflet-bar:active{
           background:linear-gradient(135deg,rgba(255,255,255,0.0),rgba(255,255,255,0.0));
            backdrop-filter: blur(4px); 
            user-select: none;
        }

        .leaflet-bar a{
           background:linear-gradient(135deg,rgba(255,255,255,0.2),rgba(255,255,255,0.3));
            backdrop-filter: blur(4px); 
            user-select: none;
        }

        .leaflet-disabled{
           background:linear-gradient(135deg,rgba(255,255,255,0.2),rgba(255,255,255,0.3)) !important;
            backdrop-filter: blur(4px) !important; 
            user-select: none;
        }

        #settings{
            width:96dvw;
            padding:2vw;
            height:calc(100dvh - 4vw);
            overflow:hidden;
            background-color: rgb(233, 233, 233);
            display:flex;
            z-index:92;
            justify-content:center;
            position:absolute;
            display:none;
            transition:0.3s;
        }
        .tilesoort{
            width:25vw;
            height:25vw;
            border:2px solid burlywood;
            border-radius: 15px;
            transition: 0.3s;
            user-select: none;
        }

        .tilesoort:active{
            transform: scale(1.2);
            transition: 0.3s;
        }

        #tilecontainter{
            height:30dvh;
            width:96dvw;
            display:flex;
            flex-wrap:wrap;
            padding:2dvw;
            flex-direction:row;
            gap:4vw;
            justify-content:center;
        }

        #light{
            background:url(white.png);
            background-size:cover;
            user-select: none;
        }
        #dark{
            background:url(black.png);
            background-size:cover;
            user-select: none;
        }
        #voyager{
            background:url(voyager.png);
            background-size:cover;
            user-select: none;
        }
        #satellite{
            background:url(satellite.png);
            background-size:cover;
            user-select: none;
        }
        #standard{
            background:url(standard.png);
            background-size:cover;
            user-select: none;
        }
        #geel{
            background:url(geel.png);
            background-size:cover;
            user-select: none;
        }

        .leaflet-control-attribution {
            font-size: 10px;
            opacity: 0.7;
            border-radius:5px;
            background: rgba(255, 255, 255, 0.2); /* lichte achtergrond */
            backdrop-filter: blur(4px);
            bottom:3px;
            right:3px;
            user-select: none;
        }

        #collection{
            width:96dvw;
            padding:2vw;
            height:calc(100dvh - 4vw);
            background-color: rgb(233, 233, 233);
            display:flex;
            z-index:92;
            justify-content:center;
            position:absolute;
            display:none;
            top:0;
            left:0;
            overflow-x:hidden;
            user-select: none;
            transition:0.3s;
        }
        .pok√©mon{
            width:25vw;
            height:25vw;
            border:2px solid gray;
            border-radius: 15px;
            user-select: none;
            transition:0.3s;
            position:relative;
            overflow:hidden;
        }

        .pok√©mon h3{
            position:absolute;
            bottom:0;
            right:0;
            transform: translate(1%,60%);
            color:white;
            background: burlywood;
            padding:1vw;
            min-width:10vw;
            border-radius:5px;
            font-family:arial;
            font-size:3vw;
        }

        #pokecontainter{
            height:75dvh;
            width:95dvw;
            position:absolute;
            left:50%;
            top:7%;
            transform: translate(-50%,0%);
            display:flex;
            flex-wrap:wrap;
            padding:2dvw;
            padding-top:2dvh;
            padding-bottom:15dvh;
            flex-direction:row;
            gap:4vw;
            justify-content:center;
            max-height:100dvh;
            overflow-y:auto;
        }
        
        .toggle{
            width:8vw;
            height:4vw;
            background-color: gray;
            border: 2px solid black;
            border-radius:50px;
            position:absolute;
            display:flex;
            align-items:center;
            right:5%;
            transition:0.3s;
            user-select: none;
            cursor:pointer;
            -webkit-tap-highlight-color: transparent;
            outline:none;
        }

        .toggle:focus{
            outline:none;
        }

        .togglecirc{
            background-color: #eef3ef;
            height:4vw;
            width:4vw;
            border-radius:50px;
            position:absolute;
            left:0%;
            transition:0.3s;
            cursor:pointer;
            user-select: none;
            -webkit-tap-highlight-color: transparent;
        }

        #toggle1cont{
            position:relative;
            font-family:arial;
            position:absolute;
            top:50%;
            left:50%;
            transform:translate(-50%,-50%);
            width:84dvw;
            padding:4vw;
            height:8vw;
            display:flex;
            align-items:center;
            user-select: none;
        }

        h1{
            user-select: none;
        }

        #progress {
            background-color: burlywood;
            border-radius: 50px;
            height:3vh;
        }
        #progressbar{
            background-color:white;
            border-radius:50px;
            width:80dvw;
            height:3vh;
            position:absolute;
            left:50%;
            /*top:1vh;*/
            transform: translate(-50%,0%);
            overflow:hidden;
        }

        /*input[type=range]::-webkit-slider-thumb{
            display:none;
            background-color: transparent;
            border:none;
            outline:none;
        }*/

        #collection h2{
            font-family: arial;
            color:black;
            font-size:5vw;
            user-select: none;
        }
        #leveltekst{
            position:absolute;
            left:1%;
            transform: translate(0%,0%);
            user-select: none;
        }
        #naarleveltekst{
            position:absolute;
            right:1%;
            transform: translate(0%,0%);
            user-select: none;
        }
        #topbar{
            width:100%;
            height:3vh;
            display:flex;
            align-items: center;
            justify-content: center;
            position:relative;
            top:2dvh;
            user-select: none;
            /*border:solid red 2px;*/
        }


        .circle {
            width:46px;
            width:46px;
            border-radius:50%;
            background-color:rgba(255, 0, 0, 0.364);
            display: flex;
            justify-content: center;
            align-items: center;
            border:2px solid black;
        }

        #vangbalk{
            background-color:rgb(255, 69, 69);
            border-radius:50px;
            width:80dvw;
            height:3vh;
            position:relative;
            left:50%;
            top:95dvh;
            transform: translate(-50%,-50%);
            overflow:hidden;
        }
        #hierin{
          width:30dvw;  
          height:3vh;
          background-color:rgb(92, 171, 74);
          position:absolute;
          left:50%;
          transform: translate(-50%,0%);
        }
        #slider{
          width:1dvw; 
          height:3vh;
          border-radius: 50px;
          position:absolute;
          left:0px;
          background-color:burlywood;
        }

        #pokedex{
            width:85dvw;
            height:67dvh;
            border-radius: 15px;
            display:none;
            z-index:999;
            position:fixed;
            left:50%;
            top:50%;
            transform: translate(-50%,-50%);
            background-color: rgba(255, 255, 255, 0.803);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            border:1px solid burlywood;
        }

        #dexfoto{
            width:25dvh;
            height:25dvh;
            border-radius: 5px;
            position:absolute;
            bottom:25dvh;
            left:50%;
            transform: translate(-50%,-50%);
        }

        #dexnames{
            position: absolute;
            bottom:10%;
            left:2%;
            font-family:arial;
        }

        #dexnumbers{
            position: absolute;
            bottom: 10%;
            right:2%;
            font-family:arial;
            text-align:right;
        }

        #dexname {
           position: absolute;
           top:0%;
           left:2%;
           font-family:arial; 
        }

        #sluitdex{
            width:2vw;
            height: 2vw;
            border-radius: 3px;
            outline:none;
            background:transparent;
            border:none;
            align-items:center;
            justify-content:center;
            position:absolute;
            right:1%;
            top:1%;
            font-size:calc(1.1vw + 15px);
            min-width:30px;
            min-height:30px; 
            user-select: none;
            transition:0.3s;
        }

        #starttradebutton{
            border:none;
            outline:none;
            background-color: burlywood;
            position:absolute;
            bottom: 0%;
            left:50%;
            transform: translate(-50%,-50%);
            width:80dvw;
            height:5dvh;
            border-radius:5px;
            color:white;
            font-size:7vw;
            display:flex;
            align-items:center;
            justify-content: center;
        }

        #locatietext{
            color:black;
            font-family: arial;
            position: absolute;
            left:50%;
            top:10%;
            transform: translate(-50%,-50%);
            width:90dvw;
            user-select: none;
        }

        #loadingscreen{
            width:100dvw;
            height:100dvh;
            display:flex;
            z-index:99999999;
            overflow:hidden;
            background: url(pokemonload.png);
            background-size: cover;
            position:fixed;
        }

        #video{
            width:23dvw;
            height:23dvw;
            border-radius:50%;
            position:fixed;
            left:50%;
            top:50%;
            transform: translate(-50%,-50%);
            display:none;
            z-index:99999999999999;
            background-color: rgba(0, 0, 0, 0.07);
            user-select: none;
        }

        #trade{
          display:flex;
          z-index:999999999999999;  
          position:fixed;
          left:50%;
          top:50%;
          transform: translate(-50%,-50%);
          border-radius:5px;
          width:300px;
          height:300px;
          flex-direction: row;
          gap:5vw;
          align-items:center;
          justify-content: flex-start;
          overflow-x: scroll;
          scroll-snap-type:x mandatory;
        }

        #reader {
            width: 300px;
            height: 300px;
            border-radius: 5px;
            overflow: hidden;
            padding:0;
            flex-shrink: 0;
            scroll-snap-align:start;
        }

        #qr{
            background-color: white;
            width: 300px;
            height: 300px;
            border-radius: 5px;
            flex-shrink: 0;
            scroll-snap-align:center;
            display:flex;
            align-items: center;
            justify-content: center;
        }

        #reader video {
            width: 100%;
            height: 100%;
            object-fit: cover; /* zorgt dat het mooi vult */
            border-radius: 5px;
            padding:0;
        }

        #tradecontainer{
            width:100dvw;
            height:100dvh;
            background-color: rgb(233, 233, 233);
            display:flex;
            z-index:9999999;
            position:absolute;
            left:50%;
            top:50%;
            transform: translate(-50%,-50%);
            display:none;
            opacity: 1;
            /*visibility: hidden;*/
            transition:0.2s;
        }

        #tradeani{
            width:100dvw;
            height:100dvh;
            background-color: rgb(233, 233, 233);
            display:none;
            z-index:9999999;
            position:fixed;
           /* left:50%;
            top:50%;
            /*transform: translate(-50%,-50%);*/
            display:none;
            opacity: 1;
            transition:0.2s;
        }

        #tradevid{
            width:60dvw;
            height:60dvh;
            position:absolute;
            top:50%;
            left:50%;
            transform: translate(-50%,-50%);
        }

        .tradebutton{
            border:none;
            outline:none;
            background-color: burlywood;
            position:absolute;
            top:80%;
            left:50%;
            transform: translate(-50%,-50%);
            width:40dvw;
            height:15dvw;
            border-radius:5px;
            color:white;
            font-size:7vw;
            display:none;
            align-items:center;
            justify-content: center;
        }

        #sluittrade{
            width:2vw;
            height: 2vw;
            border-radius: 3px;
            outline:none;
            background:transparent;
            border:none;
            align-items:center;
            justify-content:center;
            position:absolute;
            right:1%;
            top:1%;
            font-size:calc(1.1vw + 15px);
            min-width:30px;
            min-height:30px; 
            user-select: none;
            transition:0.3s;   
        }

        #tradedpoke{
            width:50vw;
            height:50vw;
            border:2px solid gray;
            border-radius: 15px;
            user-select: none;
            transition:3s;
            position:relative;
            overflow:hidden;
            display:none;
            position:absolute;
            left:50%;
            top:50%;
            transform: translate(-50%,-50%);
        }

        .maplibregl-ctrl-geolocate .maplibregl-ctrl-icon {
        /* Gebruik een filter om de kleur van het standaard SVG-icoon te veranderen */
        filter:brightness(20%); /* Maakt het icoon wit */
    }
        </style>
    </head>
    <body onload="loadeverything()">
        <div id="map"></div>
        <div id="loadingscreen"></div>
        <div id="nav">
            <svg id="settingssvg" onclick="settings()" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"><path d="M269.5 156.7L283.2 96L356.8 96L370.5 156.7C372.2 164.1 377.3 170.3 384.3 173.4C395.1 178.2 405.3 184.1 414.7 191C420.8 195.5 428.8 196.9 436.1 194.6L495.6 176.1L532.4 239.9L486.6 282.2C481 287.4 478.2 294.9 479 302.4C480.3 313.9 480.3 326.1 479 337.6C478.2 345.2 481 352.7 486.6 357.8L532.4 400.1L495.6 463.9L436.1 445.4C428.8 443.1 420.9 444.5 414.7 449C405.3 455.9 395.1 461.9 384.3 466.6C377.3 469.7 372.2 475.9 370.5 483.3L356.8 544L283.2 544L269.5 483.3C267.8 475.9 262.7 469.7 255.7 466.6C244.9 461.8 234.7 455.9 225.3 449C219.2 444.5 211.2 443.1 203.9 445.4L144.4 463.9L107.6 400.1L153.4 357.8C159 352.6 161.8 345.1 161 337.6C159.7 326.1 159.7 313.9 161 302.4C161.8 294.8 159 287.3 153.4 282.2L107.6 239.9L144.4 176.1L203.9 194.6C211.2 196.9 219.1 195.5 225.3 191C234.7 184.1 244.9 178.1 255.7 173.4C262.7 170.3 267.8 164.1 269.5 156.7zM276.8 48C258.1 48 241.9 61 237.8 79.2L225.2 134.8C218.9 138 212.9 141.5 207 145.3L152.6 128.4C134.7 122.8 115.4 130.4 106.1 146.6L62.9 221.4C53.6 237.6 56.7 258.1 70.4 270.8L112.3 309.5C112 316.4 112 323.5 112.3 330.5L70.4 369.2C56.7 381.9 53.5 402.4 62.9 418.6L106.1 493.4C115.4 509.6 134.8 517.1 152.6 511.6L207.1 494.7C213 498.5 219 502 225.3 505.2L237.9 560.8C242 579 258.2 592 276.9 592L363.3 592C382 592 398.2 579 402.3 560.8L414.9 505.2C421.2 502 427.2 498.5 433.1 494.7L487.6 511.6C505.5 517.2 524.8 509.6 534.1 493.4L577.3 418.6C586.6 402.4 583.5 381.9 569.8 369.2L527.9 330.5C528.2 323.6 528.2 316.5 527.9 309.5L569.8 270.8C583.5 258.1 586.6 237.6 577.3 221.4L534 146.6C524.6 130.4 505.3 122.9 487.5 128.4L433 145.3C427.1 141.5 421.1 138 414.8 134.8L402.3 79.2C398.1 61 381.9 48 363.2 48L276.8 48zM368 320C368 346.5 346.5 368 320 368C293.5 368 272 346.5 272 320C272 293.5 293.5 272 320 272C346.5 272 368 293.5 368 320zM320 224C267 224 224 267 224 320C224 373 267 416 320 416C373 416 416 373 416 320C416 267 373 224 320 224z"/></svg>
            <svg id="homesvg" onclick="home()" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"><path d="M304 70.1C313.1 61.9 326.9 61.9 336 70.1L568 278.1C577.9 286.9 578.7 302.1 569.8 312C560.9 321.9 545.8 322.7 535.9 313.8L527.9 306.6L527.9 511.9C527.9 547.2 499.2 575.9 463.9 575.9L175.9 575.9C140.6 575.9 111.9 547.2 111.9 511.9L111.9 306.6L103.9 313.8C94 322.6 78.9 321.8 70 312C61.1 302.2 62 287 71.8 278.1L304 70.1zM320 120.2L160 263.7L160 512C160 520.8 167.2 528 176 528L224 528L224 424C224 384.2 256.2 352 296 352L344 352C383.8 352 416 384.2 416 424L416 528L464 528C472.8 528 480 520.8 480 512L480 263.7L320 120.3zM272 528L368 528L368 424C368 410.7 357.3 400 344 400L296 400C282.7 400 272 410.7 272 424L272 528z"/></svg>
            <svg id="collectsvg" onclick="collection()" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"><path d="M480 144C488.8 144 496 151.2 496 160L496 296L344 296L344 144L480 144zM496 344L496 480C496 488.8 488.8 496 480 496L344 496L344 344L496 344zM296 296L144 296L144 160C144 151.2 151.2 144 160 144L296 144L296 296zM144 344L296 344L296 496L160 496C151.2 496 144 488.8 144 480L144 344zM160 96C124.7 96 96 124.7 96 160L96 480C96 515.3 124.7 544 160 544L480 544C515.3 544 544 515.3 544 480L544 160C544 124.7 515.3 96 480 96L160 96z"/></svg>
        </div>
        
    <div id="unlock">
        <button id="sluit" onclick="document.getElementById('unlock').style.opacity = '0';document.getElementById('unlock').style.visibility = 'hidden';"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"><!--!Font Awesome Free v7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--><path d="M183.1 137.4C170.6 124.9 150.3 124.9 137.8 137.4C125.3 149.9 125.3 170.2 137.8 182.7L275.2 320L137.9 457.4C125.4 469.9 125.4 490.2 137.9 502.7C150.4 515.2 170.7 515.2 183.2 502.7L320.5 365.3L457.9 502.6C470.4 515.1 490.7 515.1 503.2 502.6C515.7 490.1 515.7 469.8 503.2 457.3L365.8 320L503.1 182.6C515.6 170.1 515.6 149.8 503.1 137.3C490.6 124.8 470.3 124.8 457.8 137.3L320.5 274.7L183.1 137.4z"/></svg></button>
        <h1 id="locatietext"></h1>
        <img src="" id="pokemon" onclick="slide = 0; checkvang()">
        <div id="pokeball"></div>
        <div id="kruis"></div>
        <div id="vangbalk">
            <div id="hierin"></div>
            <div id="slider"></div>
        </div>
    </div>

<section id="settings">
        <div id="toggle1cont">
            <h1 id="dltoggleh1">Dark Mode</h1>
            <div onclick="darkmode()" id="dltoggle" class="toggle">
                <div id="dltogglecirc" class="togglecirc">
            </div>
        </div>
        </div>
</section>

    <section id="collection">
        <div id="topbar">
            <h2 id="leveltekst">0</h2>
            <div id="progressbar">
                <div id="progress"></div>
            </div>
            <h2 id="naarleveltekst">1</h2>
        </div>

        <div id="pokedex">
            <button id="sluitdex" onclick="document.getElementById('pokedex').style.display = 'none';"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"><!--!Font Awesome Free v7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--><path d="M183.1 137.4C170.6 124.9 150.3 124.9 137.8 137.4C125.3 149.9 125.3 170.2 137.8 182.7L275.2 320L137.9 457.4C125.4 469.9 125.4 490.2 137.9 502.7C150.4 515.2 170.7 515.2 183.2 502.7L320.5 365.3L457.9 502.6C470.4 515.1 490.7 515.1 503.2 502.6C515.7 490.1 515.7 469.8 503.2 457.3L365.8 320L503.1 182.6C515.6 170.1 515.6 149.8 503.1 137.3C490.6 124.8 470.3 124.8 457.8 137.3L320.5 274.7L183.1 137.4z"/></svg></button>
            <h2 id="dexname"></h2>
            <div id="dexfoto"></div>
            <div id="dexnames">
                <h3>HP:</h3>
                <h3>ENERGY</h3>
                <h3>HEIGHT</h3>
                <h3>WEIGHT</h3>
                <h3>ATTACK</h3>
                <h3>DEFENSE</h3>
            </div>
            <div id="dexnumbers">
                <h3 id="dexhp"></h3>
                <h3 id="dexenergy"></h3>
                <h3 id="dexheight"></h3>
                <h3 id="dexweight"></h3>
                <h3 id="dexattack"></h3>
                <h3 id="dexdefense"></h3>
            </div>
            <button id="starttradebutton">TRADE</button>
        </div>
        <div id="pokecontainter">
        </div>
    </section>

    <div id="tradecontainer">
    <button id="sluittrade" onclick="stoptrade()"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"><path d="M183.1 137.4C170.6 124.9 150.3 124.9 137.8 137.4C125.3 149.9 125.3 170.2 137.8 182.7L275.2 320L137.9 457.4C125.4 469.9 125.4 490.2 137.9 502.7C150.4 515.2 170.7 515.2 183.2 502.7L320.5 365.3L457.9 502.6C470.4 515.1 490.7 515.1 503.2 502.6C515.7 490.1 515.7 469.8 503.2 457.3L365.8 320L503.1 182.6C515.6 170.1 515.6 149.8 503.1 137.3C490.6 124.8 470.3 124.8 457.8 137.3L320.5 274.7L183.1 137.4z"/></svg></button>
    <div id="trade">
        <div id="reader" width="100dvw"></div>
        <div id="qr"></div>
    </div>
    <button id="tradebutton" class="tradebutton">ready</button>
    </div>
    <div id="tradeani">
        <div id="tradedpoke"></div>
        <button class="tradebutton" id="tradebutton2" onclick = "stoptrade()">done</button>
        <video id="tradevid" muted playsinline>
            <source src="trade.webm" type="video/webm">
        </video>
    </div>
        
        <script src="https://cdn.jsdelivr.net/npm/@turf/turf@7/turf.min.js"></script>
        <script src="https://unpkg.com/html5-qrcode" type="text/javascript"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
        <script type="text/javascript">

            var loclat;
            var loclong;
            var map;
            var loccircle = 0;
            var currenttiles;

            /*function changemap(url){
                map.setStyle(url);
                currenttiles = url;
            }*/


            function settings(){
                document.getElementById("settings").style.display = "flex";
                document.getElementById("collection").style.display = "none";
                document.getElementById("homesvg").style.fill = "black";
                document.getElementById("collectsvg").style.fill = "black";
                document.getElementById("settingssvg").style.fill = "burlywood";
            }

            function collection(){
                document.getElementById("collection").style.display = "flex";
                document.getElementById("settings").style.display = "none";
                document.getElementById("homesvg").style.fill = "black";
                document.getElementById("collectsvg").style.fill = "burlywood";
                document.getElementById("settingssvg").style.fill = "black";
            }

            function home(){
                document.getElementById("settings").style.display = "none";
                document.getElementById("collection").style.display = "none";
                document.getElementById("homesvg").style.fill = "burlywood";
                document.getElementById("collectsvg").style.fill = "black";
                document.getElementById("settingssvg").style.fill = "black";
            }

            function geolocationError(error) {
            console.error("Locatie fout: ", error.message);
            }

            //function locatie(){
                  
            //}
            makemap();


        function makemap(){
            if(!map){
                map = new maplibregl.Map({
                    container: 'map',
                    style: 'https://demotiles.maplibre.org/style.json',
                    center: [-96, 37.8],
                    zoom: 1.2,
                    minZoom:1.2,
                    pitch: 0,
                    bearing: 0,
                    attributionControl: false,
                    dragRotate: true,
                    touchPitch: true
                 })

                 map.touchZoomRotate.enable();
                 map.touchZoomRotate.enableRotation();
          
                const geolocateControl = new maplibregl.GeolocateControl({
                    positionOptions: {
                        enableHighAccuracy: true
                    },
                    trackUserLocation: true,
                    showUserLocation: true
                });

                map.addControl(geolocateControl);

                geolocateControl.on('geolocate', (e) => {
                    loclat = e.coords.latitude;
                    loclong = e.coords.longitude;
                    krijgalledingen(loclat,loclong);
                });

                map.on('load', () => {
                    geolocateControl.trigger();
                });

         maplibregl.setRTLTextPlugin('https://unpkg.com/@mapbox/mapbox-gl-rtl-text@0.2.3/mapbox-gl-rtl-text.min.js');

         map.on('style.load', () => {
            map.setProjection({
                type: 'globe',
            });
         });

         krijgalledingen(loclat,loclong);

        }
        }


    const nieuwenames = [];
    const nieuwelat = [];
    const nieuwelon = [];
    const alopkaart = [];
    const circleintervals = [];
    var vorigelatlong = 0;

    function krijgalledingen(loclatt, loclongg) {
        if (vorigelatlong != loclatt + " " + loclongg){
        const myHeaders = new Headers();
        myHeaders.append("Content-Type", "application/x-www-form-urlencoded");

        const urlencoded = new URLSearchParams();
        urlencoded.append("data",
        `[out:json][timeout:60];(
        node["amenity"~"cafe|restaurant|bar|fast_food|ice_cream|bank|marketplace|pharmacy|school|college|university|kindergarten|library|hospital|clinic|dentist|doctors|nursing_home|fuel|place_of_worship|cinema|theatre|community_centre|nightclub|casino|police|fire_station|townhall"](${loclatt - 0.05},${loclongg - 0.05},${loclatt + 0.05},${loclongg + 0.05});
        way["amenity"~"place_of_worship|school|college|townhall|university|marketplace"](${loclatt - 0.05},${loclongg - 0.05},${loclatt + 0.05},${loclongg + 0.05});
        relation["amenity"~"place_of_worship|school|college|townhall|university|marketplace"](${loclatt - 0.05},${loclongg - 0.05},${loclatt + 0.05},${loclongg + 0.05});

        node["historic"="monument"](${loclatt - 0.05},${loclongg - 0.05},${loclatt + 0.05},${loclongg + 0.05});
        way["historic"="monument"](${loclatt - 0.05},${loclongg - 0.05},${loclatt + 0.05},${loclongg + 0.05});
        relation["historic"="monument"](${loclatt - 0.05},${loclongg - 0.05},${loclatt + 0.05},${loclongg + 0.05});

        node["leisure"~"park|playground|bowling_alley|sports_centre|swimming_pool|stadium|pitch|golf_course|miniature_golf"](${loclatt - 0.05},${loclongg - 0.05},${loclatt + 0.05},${loclongg + 0.05});
        way["leisure"~"park|playground|bowling_alley|sports_centre|swimming_pool|stadium|pitch|golf_course|miniature_golf"](${loclatt - 0.05},${loclongg - 0.05},${loclatt + 0.05},${loclongg + 0.05});
        relation["leisure"~"park|playground|bowling_alley|sports_centre|swimming_pool|stadium|pitch|golf_course|miniature_golf"](${loclatt - 0.05},${loclongg - 0.05},${loclatt + 0.05},${loclongg + 0.05});

        node["building"="chapel|museum|cinema|ruins|tower|shed|shrine"](${loclatt - 0.05},${loclongg - 0.05},${loclatt + 0.05},${loclongg + 0.05});
        way["building"="chapel|museum|cinema|ruins|tower|shed|shrine"](${loclatt - 0.05},${loclongg - 0.05},${loclatt + 0.05},${loclongg + 0.05});
        relation["building"="chapel|museum|cinema|ruins|tower|shed|shrine"](${loclatt - 0.05},${loclongg - 0.05},${loclatt + 0.05},${loclongg + 0.05});
        );
        out center;`);

        const requestOptions = {
        method: "POST",
        headers: myHeaders,
        body: urlencoded,
        redirect: "follow"
        };

        fetch("https://lz4.overpass-api.de/api/interpreter", requestOptions)
        .then((response) => response.json())    
        .then((result) => {
            for(let i = 0; i < result.elements.length; i++){
                if(result.elements[i].tags.name != undefined){
                    nieuwenames.push(result.elements[i].tags.name);
                    var lattoevoeg = result.elements[i].lat || result.elements[i].center.lat;
                    var lontoevoeg = result.elements[i].lon || result.elements[i].center.lon;

                     if (!lattoevoeg || !lontoevoeg) return;

                    nieuwelat.push(lattoevoeg);
                    nieuwelon.push(lontoevoeg);
                }
                }
                for(let i = 0; i < nieuwelat.length; i++){
                if (!alopkaart.includes(nieuwenames[i])){
                        alopkaart.push(nieuwenames[i]);
                const radius = 11;
                const options = {
                    steps: 64,
                    units: 'meters'
                };
                const circle = turf.circle([nieuwelon[i],nieuwelat[i]], radius, options);

                map.addSource(`circle${i}`, {
                    type: 'geojson',
                    data: circle
                });

                map.addLayer({
                    id: `circle${i}`,
                    type: 'fill',
                    source: `circle${i}`,
                    paint: {
                        'fill-color': 'burlywood',
                        'fill-opacity': 0.6
                    }
                });

                circleintervals[i] = setInterval(function(){
                    h = new Date();
                    hh = h.getMinutes();
                    hhh = h.getDate();
                    hhhh = h.getHours();
                    hhhhh = h.getMonth();
                    hhhhhh = h.getFullYear();
                    if(!gevangenids.includes(i + "d" + hhh + "h" + hhhh + "m" + hhhhh + "y" + hhhhhh)){
                      map.setPaintProperty(`circle${i}`, 'fill-color', 'burlywood');  
                    } else {
                       map.setPaintProperty(`circle${i}`, 'fill-color', 'red');  
                    }
                },2000)

                map.on('click', `circle${i}`, (e) => {
                    if(loclat.toFixed(4) === nieuwelat[i].toFixed(4) && loclong.toFixed(4) === nieuwelon[i].toFixed(4)){
                        map.setPaintProperty(`circle${i}`, 'fill-color', 'red');
                        console.log('Kleur van de cirkel is gewijzigd naar rood.');
                        test(i, nieuwelat[i], nieuwelon[i]);
                        document.getElementById("locatietext").innerHTML = nieuwenames[i];
                    }
                    console.log(nieuwelat[i].toFixed(4));
                });

                }
                

            }
            vorigelatlong = loclatt + " " + loclongg
            console.log(result.elements.length);
            setTimeout(document.getElementById("loadingscreen").style.display = "none",600)
        })
        .catch((error) => console.error(error));
    }
    }


var gevangenids = [];
var gevangennames = [];
var gevangenurls = [];

var h = new Date();
var hh = h.getMinutes();
var hhh = h.getDate();
var hhhh = h.getHours();
var hhhhh = h.getMonth();
var hhhhhh = h.getFullYear();
var unlockcolor = "linear-gradient(135deg,rgba(255,255,255,0.5),rgba(255,255,255,0.7))";
var xp = 0;
var level = 0;

function test(jef, latt, longg){
    if(gevangenids.includes(jef + "d" + hhh + "h" + hhhh + "m" + hhhhh + "y" + hhhhhh) === false){

   
    if(loclat.toFixed(4) === latt.toFixed(4) && loclong.toFixed(4) === longg.toFixed(4)){

    console.log("ja: " + loclat.toFixed(4) + " is gelijk aan " + latt + " en " + loclong.toFixed(4) + " is gelijk aan " + longg);

    h = new Date();
    hh = h.getMinutes();
    hhh = h.getDate();
    hhhh = h.getHours();
    slide = 1;
    document.getElementById("pokemon").style.display = "flex";
    document.getElementById("pokeball").style.display = "none";
    document.getElementById("kruis").style.display = "none";
    console.log(jef + hhh);
    var random = (Math.floor(Math.random() * 31))-15;
    var getid = jef + hh + random;
    if(getid <= 0 ){
        getid = Math.floor(Math.random() * 90);
    }
    
    const requestOptions = {
        method: "GET",
        redirect: "follow"
    };

    fetch(`https://pokeapi.co/api/v2/pokemon/${getid}`, requestOptions)
    .then((response) => response.json())
    .then((result) => {

        var shiny = Math.floor(Math.random() * 26);
        laatstepokemonshiny = shiny;
        console.log(shiny);
        if(shiny < 2){
        document.getElementById("unlock").style.background = "linear-gradient(135deg,rgba(237, 250, 172, 0.5),rgba(241, 255, 114, 0.7))";
         document.getElementById("pokemon").src = result.sprites.front_shiny;

         laatstepokemonurl = result.sprites.front_shiny; 
         gevangenids.push(jef + "d" + hhh + "h" + hhhh + "m" + hhhhh + "y" + hhhhhh); 
        } else {
            document.getElementById("unlock").style.background = unlockcolor;
            document.getElementById("pokemon").src = result.sprites.front_default;
            
            laatstepokemonurl = result.sprites.front_default; 
            gevangenids.push(jef + "d" + hhh + "h" + hhhh + "m" + hhhhh + "y" + hhhhhh); 
        }

        laatstepokemonname = result.forms[0].name;
        
        raritycheck(jef + hh + random, shiny);
    })
    .catch((error) => console.error(error));

    } else {
       console.log("nee: " + loclat.toFixed(4) + " is niet gelijk aan " + latt.toFixed(4) + " en " + loclong.toFixed(4) + " is niet gelijk aan " + longg.toFixed(4));
    } 
  }
}

var laatstepokemonurl;
var laatstepokemonshiny;
var laatstepokemonname;

function raritycheck(jef, shiny, gvname) {
    const requestOptions = {
        method: "GET",
        redirect: "follow"
    };

fetch(`https://pokeapi.co/api/v2/pokemon-species/${jef}`, requestOptions)
    .then((response) => response.json())
    .then((result) => {

        document.getElementById("hierin").style.width = "0vw";

        laatstepokemonjef = jef;
        laatstepokemonshiny = shiny;

        var rarity = result.capture_rate;
        if (rarity > 97){
            rarity = 97;
        }
        if(shiny < 2 && rarity > 10){
            rarity = rarity/2;
        }
        document.getElementById("hierin").style.width = rarity/1.5  + "vw";
        document.getElementById("unlock").style.opacity = "1"; 
        document.getElementById("unlock").style.visibility = "visible"; 

        })
    .catch((error) => console.error(error));
}

animateslider();

var direction = 1.5;
var sliderpositie = 0;
var slide = 1;
function animateslider(){
    if(slide === 1 ){
            if (sliderpositie >= 79 || sliderpositie < 0){
                direction = direction * -1;
            }
            sliderpositie += direction;
            document.getElementById("slider").style.left = sliderpositie + "vw";
    }
    requestAnimationFrame(animateslider);
}

function checkvang(){
    slide = 0;
    var sliderpos = parseInt(document.getElementById("slider").style.left);
    var breedte = parseInt(document.getElementById("hierin").style.width);
    if(sliderpos >= (80 - breedte)/ 2 && sliderpos <= breedte + ((80 - breedte)/2)){
        console.log("jaaa");
        var el = document.createElement('div');
        el.className = "pok√©mon";

        if(laatstepokemonshiny < 2){
    
            el.style.background = `url(${laatstepokemonurl})`;
            el.style.borderColor = "rgb(251, 255, 145)";

        } else {
            el.style.background = `url(${laatstepokemonurl})`;
        }

        var hoeveelstemetnaam = gevangenurls.length;
        gevangenurls.push(laatstepokemonurl);
        gevangennames[gevangenurls.length - 1] = (laatstepokemonname);
        el.style.backgroundSize = "cover";
        el.setAttribute("id", `pokemon${gevangennames[gevangenurls.length - 1]}${gevangenurls.length}`);
        el.onclick = function () {
            getinfo(gevangennames[gevangenurls.length - 1],gevangenurls.length);
        }
        xp++;
        levelxp();
        document.getElementById("pokecontainter").appendChild(el);

        document.getElementById("pokemon").style.display = "none";
        document.getElementById("pokeball").style.display = "flex";
    } else {
        document.getElementById("pokemon").style.display = "none";
        document.getElementById("kruis").style.display = "flex";
        console.log("neee");
    }
    saveeverything();
}

function levelxp() {     
        if(xp * (80 / (level * 10)) > 80){
            level++;
            xp = 0;
            localStorage.setItem("xp", xp);
            localStorage.setItem("level", level);
            setTimeout(function () {
                document.getElementById("video").style.display = "flex";
            document.getElementById("video").play();
            setTimeout(function () {
                document.getElementById("video").style.display = "none";
            },1730);
            }, 1000)
        }
        document.getElementById("progress").style.width = xp * (80 / (level * 10)) + "vw";
        document.getElementById("leveltekst").innerText = level;
        document.getElementById("naarleveltekst").innerText = level + 1;
        localStorage.setItem("xp", xp);
        localStorage.setItem("level", level);
}



    function getinfo(jef, i) {
        const requestOptions = {
            method: "GET",
            redirect: "follow"
        };

        fetch(`https://pokeapi.co/api/v2/pokemon/${jef}`, requestOptions)
        .then((response) => response.json())
        .then((result) => {
            document.getElementById("dexname").innerHTML = result.name;
            document.getElementById("dexheight").innerHTML = result.height;
            document.getElementById("dexweight").innerHTML = result.weight;
            document.getElementById("dexhp").innerHTML = result.stats[0].base_stat;
            document.getElementById("dexattack").innerHTML = result.stats[1].base_stat;
            document.getElementById("dexdefense").innerHTML = result.stats[2].base_stat;
            var typez = result.types;
            var typeztext = "";
            for(let i = 0; i < typez.length; i++){
                typeztext += result.types[i].type.name + " ";
            }
            document.getElementById("dexenergy").innerHTML = typeztext;
            document.getElementById("pokedex").style.display = "flex";
            var foto = document.getElementById(`pokemon${jef}${i}`).style.background;
            console.log(foto);
            console.log(jef)
            document.getElementById("dexfoto").style.background = foto;
            document.getElementById("starttradebutton").onclick =  function () {
                document.getElementById('pokedex').style.display = 'none';
                starttrade(jef, i);
            }
        })
        .catch((error) => console.error(error));
    }


    var dark = 1;
var bgcolor = "rgb(233, 233, 233)";
var txcolor = "black";
var unlockcolor = "linear-gradient(135deg,rgba(255,255,255,0.5),rgba(255,255,255,0.7))";

function darkmode(){
    if(dark === 0){
        bgcolor = "rgb(44, 44, 44)";
        txcolor = "#eef3ef";
        unlockcolor = "linear-gradient(135deg,rgba(78, 78, 78, 0.5),rgba(58, 58, 58, 0.7))";
        document.getElementById("dltogglecirc").style.left = "calc(100% - 4vw)";
        document.getElementById("dltoggle").style.backgroundColor = "burlywood";
        dark = 1;

        document.getElementById("settings").style.backgroundColor = bgcolor;
        document.getElementById("collection").style.backgroundColor = bgcolor;
        document.getElementById("tradecontainer").style.backgroundColor = bgcolor;
        document.getElementById("tradeani").style.backgroundColor = bgcolor;
        document.getElementById("dltoggleh1").style.color = txcolor;
        document.getElementById("leveltekst").style.color = txcolor;
        document.getElementById("naarleveltekst").style.color = txcolor;
        document.getElementById("locatietext").style.color = txcolor;
        document.getElementById("sluittrade").style.fill = txcolor;
    } else {
        bgcolor = "rgb(233, 233, 233)";
        txcolor = "black";
        unlockcolor = "linear-gradient(135deg,rgba(255,255,255,0.5),rgba(255,255,255,0.7))";
        document.getElementById("dltogglecirc").style.left = "0%";
        document.getElementById("dltoggle").style.backgroundColor = "gray";
        dark = 0;

        document.getElementById("settings").style.backgroundColor = bgcolor;
        document.getElementById("collection").style.backgroundColor = bgcolor;
        document.getElementById("tradecontainer").style.backgroundColor = bgcolor;
        document.getElementById("tradeani").style.backgroundColor = bgcolor;
        document.getElementById("dltoggleh1").style.color = txcolor;
        document.getElementById("leveltekst").style.color = txcolor;
        document.getElementById("naarleveltekst").style.color = txcolor;
        document.getElementById("locatietext").style.color = txcolor;
        document.getElementById("sluittrade").style.fill = txcolor;
    }
    localStorage.setItem("darkmode", dark);
    saveeverything();
}

    function saveeverything(){
        localStorage.setItem("ids", JSON.stringify(gevangenids));
        localStorage.setItem("urls", JSON.stringify(gevangenurls));
        localStorage.setItem("names", JSON.stringify(gevangennames));
        localStorage.setItem("xp", xp);
        localStorage.setItem("level", level);
        localStorage.setItem("darkmode", dark);
    }

    function loadeverything(){
        if(localStorage.getItem("ids")){
            gevangenids = JSON.parse(localStorage.getItem("ids")); 
        }
        if(localStorage.getItem("urls")){
            gevangenurls = JSON.parse(localStorage.getItem("urls")); 
        }
        if(localStorage.getItem("names")){
            gevangennames = JSON.parse(localStorage.getItem("names")); 
        }
        if(localStorage.getItem("darkmode") === "1"){
        console.log("dark");
        dark = 1;
        bgcolor = "rgb(44, 44, 44)";
        txcolor = "#eef3ef";
        unlockcolor = "linear-gradient(135deg,rgba(78, 78, 78, 0.5),rgba(58, 58, 58, 0.7))";
        document.getElementById("dltogglecirc").style.left = "calc(100% - 4vw)";
        document.getElementById("dltoggle").style.backgroundColor = "burlywood";
        document.getElementById("settings").style.backgroundColor = bgcolor;
        document.getElementById("collection").style.backgroundColor = bgcolor;
        document.getElementById("tradecontainer").style.backgroundColor = bgcolor;
        document.getElementById("tradeani").style.backgroundColor = bgcolor;
        document.getElementById("dltoggleh1").style.color = txcolor;
        document.getElementById("leveltekst").style.color = txcolor;
        document.getElementById("naarleveltekst").style.color = txcolor;
        document.getElementById("locatietext").style.color = txcolor;
        document.getElementById("sluittrade").style.fill = txcolor;
        } else {
            dark = 0;
        }
        if(localStorage.getItem("xp")){
            xp = parseInt(localStorage.getItem("xp"));
        }
       if(localStorage.getItem("level")){
        level = parseInt(localStorage.getItem("level"));
       } else {
        level = Math.floor(xp / 10);
       }
       levelxp();

       for(let i = 0; i < gevangenurls.length; i++){
        var el = document.createElement('div');
        el.className = "pok√©mon";
        el.style.background = `url(${gevangenurls[i]})`;
        el.style.backgroundSize = "cover";
        el.setAttribute("id", `pokemon${gevangennames[i]}${i}`);
        el.onclick = function () {
            getinfo(gevangennames[i],i);
        }
        if(gevangenurls[i].includes("shiny")){
        el.style.borderColor = "rgb(251, 255, 145)";
        }
        document.getElementById("pokecontainter").appendChild(el);
       }
    }


    var resultaat;
    var mijnpokemon;
    var qrcode;
    var html5QrCode;

    function starttrade(jef, i){
    
    mijnpokemon = jef;
    document.getElementById("trade").style.display= "flex";
    document.getElementById("tradecontainer").style.display= "flex";
    document.getElementById("tradebutton").onclick = () => tradedone(i);
    document.getElementById("reader").style.display="flex";
    document.getElementById("reader").style.backgroundColor = "transparent";
    document.getElementById("tradebutton").style.display="none";

    if(qrcode){
        qrcode.clear();
        //document.getElementById("qr").innerHTML = "";
    }

    /*if (html5QrCode) {
      html5QrCode.stop();
    }*/

    if(!html5QrCode){
        html5QrCode = new Html5Qrcode("reader");
    }

    const qrCodeSuccessCallback = (decodedText, decodedResult) => {
        resultaat = JSON.parse(decodedText);
        html5QrCode.stop();
        document.getElementById("reader").style.backgroundColor = "lightgreen";
        setTimeout(function() {
            document.getElementById("reader").style.display="none";
            document.getElementById("tradebutton").style.display="flex";
        },1000);
    };

    const config = { fps: 10, qrbox: {width: 250, height: 250} };
    
    html5QrCode.start({ facingMode: "environment" }, config, qrCodeSuccessCallback);

    qrcode = new QRCode(document.getElementById("qr"), 
        JSON.stringify({
            url:gevangenurls[i],
            name:jef
        })
    );

    }

    function tradedone(i){

        gevangenurls[i] = resultaat.url;
        gevangennames[i] = resultaat.name;

        document.getElementById("tradecontainer").style.display="none";
        document.getElementById("tradedpoke").style.background = `url(${resultaat.url})`;
        document.getElementById("tradedpoke").style.backgroundSize = "cover";
        document.getElementById("tradedpoke").style.display = "none";
        document.getElementById("tradebutton2").style.display = 'none';
        document.getElementById("tradedpoke").style.opacity = 0;

        document.getElementById("tradeani").style.display="flex"; 
        document.getElementById("tradevid").style.display="flex";
        document.getElementById("tradevid").currentTime = 0;
        document.getElementById("tradevid").play();

        setTimeout(function () {
            document.getElementById("tradedpoke").style.display = 'flex';
            document.getElementById("tradebutton2").style.display = 'flex';
            document.getElementById("tradevid").style.display= "flex";
            document.getElementById("tradedpoke").style.opacity = 0;
            void document.getElementById("tradedpoke").offsetWidth;
            document.getElementById("tradedpoke").style.opacity = 1;
        },4300);

        //document.getElementById(`pokemon${mijnpokemon}${i}`).style.display="none";

        var el = document.getElementById(`pokemon${mijnpokemon}${i}`);
        el.className = "pok√©mon";
        el.style.background = `url(${resultaat.url})`;
        el.style.backgroundSize = "cover";
        el.setAttribute("id", `pokemon${resultaat.name}${i}`);
        el.onclick = function () {
            getinfo(resultaat.name,i);
        }
        if(resultaat.url.includes("shiny")){
        el.style.borderColor = "rgb(251, 255, 145)";
        } else {
           el.style.borderColor = "gray"; 
        }
        saveeverything();
    }

    function stoptrade(){
    
    document.getElementById("trade").style.display= "none";
    document.getElementById("tradecontainer").style.display= "none";
    document.getElementById("tradeani").style.display= "none";
    document.getElementById("tradevid").style.display= "none";

    const config = { fps: 10, qrbox: {width: 250, height: 250} };
    
    qrcode.clear();
    document.getElementById("qr").innerHTML = "";

    }
        </script>
    </body>
</html>

